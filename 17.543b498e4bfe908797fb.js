(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"1UEK":function(e,t,n){"use strict";n.r(t),n.d(t,"HomeModule",function(){return R});var c=n("ofXK"),a=n("tyNb"),o=n("mrSG"),i=n("lJxs"),s=n("fXoL"),r=n("GzHD"),l=n("tk/3");let b=(()=>{class e{constructor(e){this._http=e,this.appId="e69064d639a2a2cd2f257cb59c476c6c",this.url="https://api.openweathermap.org/data/2.5/weather",this.urlDaily="https://api.openweathermap.org/data/2.5/onecall"}getCurrentWeather(e){return Object(o.b)(this,void 0,void 0,function*(){const t=`?lat=${e.lat}&lon=${e.long}&lang=fr&appid=${this.appId}&units=metric`;return yield this._http.get(this.url+t).toPromise()})}getDailyWeather(e){return Object(o.b)(this,void 0,void 0,function*(){const t=`?lat=${e.lat}&lon=${e.long}&exclude=hourly,minutely,&lang=fr&appid=${this.appId}&units=metric`;return yield this._http.get(this.urlDaily+t).toPromise()})}}return e.\u0275fac=function(t){return new(t||e)(s.Vb(l.a))},e.\u0275prov=s.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),g=(()=>{class e{constructor(e,t){this._geoService=e,this._apiServie=t}getMeteo(){return Object(o.b)(this,void 0,void 0,function*(){const e=yield this._geoService.getPosition(),t=yield this._apiServie.getDailyWeather(e);return console.log("daily",t),{currenttemp:t.current.temp,curentid:t.current.weather[0].id,curentIcon:`http://openweathermap.org/img/wn/${t.current.weather[0].icon}@2x.png`,dailyID:t.daily[0].weather[0].id,dailyIcon:`http://openweathermap.org/img/wn/${t.daily[0].weather[0].icon}@2x.png`}})}}return e.\u0275fac=function(t){return new(t||e)(s.Vb(r.a),s.Vb(b))},e.\u0275prov=s.Ib({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var d=n("Xdj+");let p=(()=>{class e{transform(e){let t;switch(!0){case 800===e:case 801===e:case 802===e:case 803===e:case 804===e:t="beau";break;case 200===e:case 201===e:case 202===e:case 210===e:case 211===e:case 212===e:case 221===e:case 230===e:case 231===e:case 232===e:case 300===e:case 301===e:case 302===e:case 310===e:case 311===e:case 312===e:case 313===e:case 314===e:case 321===e:case 500===e:case 501===e:case 502===e:case 503===e:case 504===e:case 511===e:case 520===e:case 521===e:case 522===e:case 531===e:t="mauvais";break;case 600===e:case 601===e:case 602===e:case 611===e:case 612===e:case 613===e:case 615===e:case 616===e:case 620===e:case 621===e:case 622===e:t="neige"}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Lb({name:"weatherDBFilter",type:e,pure:!0}),e})();var h=n("TEn/"),u=n("BzH4"),m=n("XyQM");let w=(()=>{class e{transform(e){let t;switch(!0){case 800===e:t="/assets/icons/weather/weather-soleil.svg";break;case 801===e:t="/assets/icons/weather/weather-ptnuage.svg";break;case 802===e:t="/assets/icons/weather/weather-nuage.svg";break;case 803===e:case 804===e:t="/assets/icons/weather/weather-grnuage.svg";break;case 200===e:case 201===e:case 202===e:case 210===e:case 211===e:case 212===e:case 221===e:case 230===e:case 231===e:case 232===e:t="/assets/icons/weather/weather-orage.svg";break;case 300===e:case 301===e:case 302===e:case 310===e:case 311===e:case 312===e:case 313===e:case 314===e:case 321===e:t="/assets/icons/weather/weather-pluie.svg";break;case 500===e:case 501===e:case 502===e:case 503===e:case 504===e:t="/assets/icons/weather/weather-pluie.svg";break;case 511===e:t="/assets/icons/weather/weather-plgivre.svg";break;case 520===e:case 521===e:case 522===e:case 531===e:t="/assets/icons/weather/weather-grossepluie.svg";break;case 600===e:case 601===e:case 602===e:case 611===e:case 612===e:case 613===e:case 615===e:case 616===e:case 620===e:case 621===e:case 622===e:t="/assets/icons/weather/weather-neige.svg";break;case 701===e:case 711===e:case 721===e:case 731===e:case 741===e:case 751===e:case 761===e:case 762===e:case 771===e:case 781===e:t="/assets/icons/weather/weather-warn.svg"}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Lb({name:"weatherIcons",type:e,pure:!0}),e})(),f=(()=>{class e{transform(e){let t;switch(!0){case 800===e:case 801===e:case 802===e:case 803===e:case 804===e:t="Temps pr\xe9vu: beau! voici notre s\xe9l\xe9ction :";break;case 200===e:case 201===e:case 202===e:case 210===e:case 211===e:case 212===e:case 221===e:case 230===e:case 231===e:case 232===e:case 300===e:case 301===e:case 302===e:case 310===e:case 311===e:case 312===e:case 313===e:case 314===e:case 321===e:case 500===e:case 501===e:case 502===e:case 503===e:case 504===e:case 511===e:case 520===e:case 521===e:case 522===e:case 531===e:t="Temps pr\xe9vu: mauvais temps! d\xe9couvrez notre s\xe9l\xe9ction :";break;case 600===e:case 601===e:case 602===e:case 611===e:case 612===e:case 613===e:case 615===e:case 616===e:case 620===e:case 621===e:case 622===e:t="Temps pr\xe9vu: Neige! sortez les doudounes, on vous propose :"}return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Lb({name:"weatherDescription",type:e,pure:!0}),e})();var v=n("CLn7"),O=n("Xz2b");function M(e,t){if(1&e&&(s.Rb(0,"ion-slide",26),s.Rb(1,"ion-card",27),s.Rb(2,"ion-card-content",28),s.Rb(3,"div",29),s.Nb(4,"ion-img",30),s.Rb(5,"p",31),s.cc(6,"catColors"),s.yc(7),s.cc(8,"catTitle"),s.Qb(),s.Qb(),s.Rb(9,"ion-text",7),s.Rb(10,"h2"),s.Rb(11,"strong"),s.yc(12),s.cc(13,"slice"),s.Qb(),s.Qb(),s.Rb(14,"p",32),s.yc(15),s.cc(16,"date"),s.cc(17,"date"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Qb()),2&e){const e=t.$implicit;s.Bb(1),s.ic("routerLink","../event/"+e.id.toString()),s.Bb(3),s.ic("src",e.media1),s.Bb(1),s.vc("background-color",s.dc(6,8,e.category)),s.Bb(2),s.zc(s.dc(8,10,e.category)),s.Bb(5),s.zc(s.fc(13,12,e.eventTitle,0,30)),s.Bb(3),s.Bc("",s.ec(16,16,e.eventStartDate,"d.MM.yy")," - ",s.ec(17,19,e.eventEndDate,"d.MM.yy"),"")}}function _(e,t){1&e&&s.Nb(0,"app-event-card",33),2&e&&s.ic("event",t.$implicit)}const C=[{path:"",component:(()=>{class e{constructor(e,t,n){this._meteo=e,this._afs=t,this._weatherDBPipe=n,this.slideOpts={initialSlide:1,slidesPerView:1.3,spaceBetween:10,freeMode:!0},this.date=new Date,this.time=new Date,this.max=10,this.min=0}ngOnInit(){return Object(o.b)(this,void 0,void 0,function*(){this.meteoData=yield this._meteo.getMeteo(),this.timer=setInterval(()=>{this.time=new Date},1e3),this.weatherDBString=this.transformWeather(this.meteoData.dailyID),this._afs.getListFromWeather(this.weatherDBString).snapshotChanges().pipe(Object(i.a)(e=>e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())))).subscribe(e=>this.listeEvent=[...e]),this._afs.getListActu(this.date).snapshotChanges().pipe(Object(i.a)(e=>e.map(e=>Object.assign({id:e.payload.doc.id},e.payload.doc.data())))).subscribe(e=>this.listeActus=[...e])})}ngOnDestroy(){clearInterval(this.timer)}transformWeather(e){return this._weatherDBPipe.transform(e)}loadData(e){return Object(o.b)(this,void 0,void 0,function*(){this.max=this.max+10,e.target.complete()})}}return e.\u0275fac=function(t){return new(t||e)(s.Mb(g),s.Mb(d.a),s.Mb(p))},e.\u0275cmp=s.Gb({type:e,selectors:[["app-home"]],decls:53,vars:26,consts:[[1,"ion-no-border"],["toolbar",""],["src","/assets/logoWhatToDo.svg",1,"logo"],["scrollEvents","true",1,"bgImg",3,"fullscreen","appToolbarEffect"],["fixed",""],[1,"ion-no-margin"],["size","5"],["color","primary"],[1,"lightTitle"],["color","tertiary"],[1,"boldWeatherTxT"],["size","2"],[1,"meteoCurrIco",3,"src"],["size","5",1,"ion-text-right"],["size","5","push","4"],["name","newspaper-outline","size","large",1,"ion-float-left","actuIcon"],["color","tertiary",1,"ion-float-left"],["size","12"],[1,"actuItems",3,"options"],["class","actuItems",4,"ngFor","ngForOf"],[1,"meteoListIcon",3,"src"],["color","tertiary",1,"ion-text-center"],["mode","md"],[3,"event",4,"ngFor","ngForOf"],["threshold","100px",3,"ionInfinite"],["loadingSpinner","bubbles","loadingText","chargement..."],[1,"actuItems"],["detail","false",3,"routerLink"],[1,"ion-no-margin","ion-no-padding"],[1,"imgBox"],[1,"actusEventsImg",3,"src"],[1,"cat"],[1,"date"],[3,"event"]],template:function(e,t){if(1&e&&(s.Rb(0,"ion-header",0),s.Rb(1,"ion-toolbar",null,1),s.Nb(3,"ion-icon",2),s.Qb(),s.Qb(),s.Rb(4,"ion-content",3),s.Rb(5,"ion-grid",4),s.Rb(6,"ion-row",5),s.Rb(7,"ion-col",6),s.Rb(8,"ion-text",7),s.Rb(9,"p",8),s.yc(10,"Fribourg"),s.Qb(),s.Qb(),s.Nb(11,"br"),s.Rb(12,"ion-text",9),s.Rb(13,"p",10),s.yc(14),s.cc(15,"number"),s.Qb(),s.Qb(),s.Qb(),s.Rb(16,"ion-col",11),s.Nb(17,"ion-icon",12),s.cc(18,"weatherIcons"),s.Qb(),s.Rb(19,"ion-col",13),s.Rb(20,"ion-text",7),s.Rb(21,"p",8),s.yc(22),s.cc(23,"date"),s.Qb(),s.Qb(),s.Nb(24,"br"),s.Rb(25,"ion-text",9),s.Rb(26,"p",10),s.yc(27),s.cc(28,"date"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(29,"ion-row"),s.Rb(30,"ion-col",14),s.Nb(31,"ion-icon",15),s.Rb(32,"ion-text",16),s.Rb(33,"h5"),s.yc(34,"Actualit\xe9s"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(35,"ion-row"),s.Rb(36,"ion-col",17),s.Rb(37,"ion-slides",18),s.wc(38,M,18,22,"ion-slide",19),s.Qb(),s.Qb(),s.Qb(),s.Rb(39,"ion-row"),s.Rb(40,"ion-col",17),s.Nb(41,"ion-icon",20),s.cc(42,"weatherIcons"),s.Rb(43,"ion-text",21),s.Rb(44,"h5"),s.yc(45),s.cc(46,"weatherDescription"),s.Qb(),s.Qb(),s.Qb(),s.Qb(),s.Rb(47,"ion-row"),s.Rb(48,"ion-col",17),s.Rb(49,"ion-list",22),s.wc(50,_,1,1,"app-event-card",23),s.Qb(),s.Qb(),s.Qb(),s.Rb(51,"ion-infinite-scroll",24),s.Zb("ionInfinite",function(e){return t.loadData(e)}),s.Nb(52,"ion-infinite-scroll-content",25),s.Qb(),s.Qb(),s.Qb()),2&e){const e=s.rc(2);s.Bb(4),s.ic("fullscreen",!0)("appToolbarEffect",e),s.Bb(10),s.Ac("",s.ec(15,11,null==t.meteoData?null:t.meteoData.currenttemp,"1.0-0"),"\xb0"),s.Bb(3),s.ic("src",s.dc(18,14,null==t.meteoData?null:t.meteoData.curentid)),s.Bb(5),s.zc(s.ec(23,16,t.date,"dd MMMM YYYY")),s.Bb(5),s.zc(s.ec(28,19,t.time,"HH:mm")),s.Bb(10),s.ic("options",t.slideOpts),s.Bb(1),s.ic("ngForOf",null==t.listeEvent?null:t.listeEvent.slice(t.min,t.max)),s.Bb(3),s.ic("src",s.dc(42,22,null==t.meteoData?null:t.meteoData.dailyID)),s.Bb(4),s.zc(s.dc(46,24,null==t.meteoData?null:t.meteoData.dailyID)),s.Bb(5),s.ic("ngForOf",null==t.listeEvent?null:t.listeEvent.slice(t.min,t.max))}},directives:[h.u,h.Y,h.v,h.o,u.a,h.t,h.J,h.n,h.U,h.Q,c.l,h.F,h.x,h.y,h.P,h.i,a.f,h.cb,h.j,h.w,m.a],pipes:[c.f,w,c.e,f,v.a,O.a,c.t],styles:["ion-toolbar[_ngcontent-%COMP%]{--background:0000000;--border-color:transparent}ion-toolbar[_ngcontent-%COMP%]   ion-icon.logo[_ngcontent-%COMP%]{width:100%;font-size:35px;margin:10px 0}ion-content[_ngcontent-%COMP%]{position:absolute;--offset-top:0px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{margin-top:70px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   p.boldWeatherTxT[_ngcontent-%COMP%]{margin-top:-20px;margin-bottom:30px;font-weight:700;font-size:20px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .meteoCurrIco[_ngcontent-%COMP%]{width:100%;font-size:45px;margin-top:15px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .actuIcon[_ngcontent-%COMP%]{margin-right:5px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:0}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:0!important;width:100%;border-radius:15px;padding:0;background-color:hsla(0,0%,100%,.09411764705882353)}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   div.imgBox[_ngcontent-%COMP%]{position:relative;height:20vh}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   div.imgBox[_ngcontent-%COMP%]   .actusEventsImg[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover;border-radius:12px 12px 0 0;overflow:hidden}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   div.imgBox[_ngcontent-%COMP%]   .cat[_ngcontent-%COMP%]{position:absolute;top:0;padding:5px 10px;width:100px;text-align:center;font-weight:700;color:#2c2c2c;border-radius:12px 0 12px 0}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-slide[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{max-height:23px;overflow:hidden;padding:3px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .meteoListIcon[_ngcontent-%COMP%]{font-size:40px;width:100%;margin-top:20px}ion-content[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]   .currMeteoIcon[_ngcontent-%COMP%]{width:50px}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({imports:[[a.g.forChild(C)],a.g]}),e})();var x=n("pk6O"),y=n("1Nz/"),Q=n("r+Qm");let R=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.Kb({type:e}),e.\u0275inj=s.Jb({providers:[p],imports:[[c.c,P,h.Z,x.a,y.b,Q.a]]}),e})()}}]);